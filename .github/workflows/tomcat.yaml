name: Deploying Java application on tomcat using Maven

on:
  push:
    branches: master
  pull_request:
    branches: master

jobs:
  Build:
    runs-on: ubuntu-latest

    steps:
      - name: CODE CHECKOUT
        uses: actions/checkout@v3

      #Java setup
      - name: Install Java package
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          distribution: 'temurin'
      
      # Maven Starts
      - name: CODE VALIDATION
        run: mvn validate
      - name: CODE COMPILATION
        run: mvn compile
      - name: CODE TESTING
        run: mvn test
      - name: CODE PACKAGNG
        run: mvn package

      # Verifying WAR file
      - name: Verifying WAR file
        run: ls -lh target/